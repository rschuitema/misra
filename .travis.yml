language: python
python:
  - "3.6"

stages:
  - static analysis
  - unit test

jobs:
  include:
    - stage: static analysis
      install: pip install pylint xenon
      script: pylint --rcfile=.pylintrc src/*/*.py
    - script: xenon -a A -b B -m A src/misra
    - script: radon cc -s src/misra
    - stage: unit test
      install: pytest pytest-cov
      script: pytest --cov=src/misra --cov-branch
